To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
Last login: Mon Nov 30 15:13:40 2020 from 199.109.193.251
------------------------------------------------------------------------------
                   Welcome to the Stampede2 Supercomputer
      Texas Advanced Computing Center, The University of Texas at Austin
------------------------------------------------------------------------------

              ** Unauthorized use/access is prohibited. **

If you log on to this computer system, you acknowledge your awareness
of and concurrence with the UT Austin Acceptable Use Policy. The
University will prosecute violators to the full extent of the law.

TACC Usage Policies:
http://www.tacc.utexas.edu/user-services/usage-policies/
______________________________________________________________________________

Welcome to Stampede2, *please* read these important system notes:

--> Stampede2 user documentation is available at:
       https://portal.tacc.utexas.edu/user-guides/stampede2

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
----------------------- Project balances for user xdtas -----------------------
| Name           Avail SUs     Expires |                                      |
| TG-CCR120014        2877  2021-09-30 |                                      |
------------------------- Disk quotas for user xdtas --------------------------
| Disk         Usage (GB)     Limit    %Used   File Usage       Limit   %Used |
| /home1              0.0      10.0     0.11         1207      200000    0.60 |
| /work             166.2    1024.0    16.23       224618     3000000    7.49 |
| /scratch            2.3       0.0     0.00       323891           0    0.00 |
-------------------------------------------------------------------------------

Tip 33   (See "module help tacc_tips" for features or how to disable)

   Execute "module spider" to get a complete list of all installed software
   on the system.

login2.stampede2(1001)$  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> export PS1='PROMPTtTtT ';\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  
PROMPTtTtT  
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo TeStTeStTeStThEproMPT;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
TeStTeStTeStThEproMPT
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo test > /scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat /scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
test
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> rm /scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
rm: cannot remove ‘/scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write’: No such file or directory
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo test > /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_writ<2/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_write                         ;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
test
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> rm /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
rm: cannot remove ‘/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_write’: No such file or directory
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.<dtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.4                         8.138503" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
DOES_NOT_EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> mkdir -p "/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11<xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.                         48.138503";\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.<dtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.4                         8.138503" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo test > /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.<2/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.1                         1.48.138503/akrr_test_wri<-skx/hpcc/2020.11.30.16.11.48.138503/akrr_test_writ                         e;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.13<akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138                         503/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
test
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> rm /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138<krrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.1385                         03/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cd /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138<krrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.1385                         03;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

hpcc.job                                        0%    0     0.0KB/s   --:-- ETAhpcc.job                                      100% 2549    19.5KB/s   00:00    
 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat hpcc.job ;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
#!/bin/bash
#SBATCH --partition=skx-normal
#SBATCH --qos=normal
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=48
#SBATCH --time=00:02:00
#SBATCH --output=/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138503/stdout
#SBATCH --error=/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138503/stderr
#SBATCH --exclusive


#Common commands
export AKRR_NODES=1
export AKRR_CORES=48
export AKRR_CORES_PER_NODE=48
export AKRR_NETWORK_SCRATCH="/scratch/01482/xdtas"
export AKRR_LOCAL_SCRATCH="/tmp"
export AKRR_TASK_WORKDIR="/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138503"
export AKRR_APPKER_DIR="/work/01482/xdtas/appker/stampede2-skx"
export AKRR_AKRR_DIR="/scratch/01482/xdtas/akrrdata/stampede2-skx"

export AKRR_APPKER_NAME="hpcc"
export AKRR_RESOURCE_NAME="stampede2-skx"
export AKRR_TIMESTAMP="2020.11.30.16.11.48.138503"
export AKRR_APP_STDOUT_FILE="$AKRR_TASK_WORKDIR/appstdout"

export AKRR_APPKERNEL_INPUT="/work/01482/xdtas/appker/stampede2-skx/inputs/hpcc/hpccinf.txt.48x1"
export AKRR_APPKERNEL_EXECUTABLE="/work/01482/xdtas/appker/stampede2-skx/execs/hpcc/hpcc"

source "$AKRR_APPKER_DIR/execs/bin/akrr_util.bash"

#Populate list of nodes per MPI process
export AKRR_NODELIST=`srun -l --ntasks-per-node=$AKRR_CORES_PER_NODE -n $AKRR_CORES hostname -s|sort -n| awk '{printf "%s ",$2}' `

export PATH="$AKRR_APPKER_DIR/execs/bin:$PATH"

cd "$AKRR_TASK_WORKDIR"

#run common tests
akrr_perform_common_tests

#Write some info to gen.info, JSON-Like file
akrr_write_to_gen_info "start_time" "`date`"
akrr_write_to_gen_info "node_list" "$AKRR_NODELIST"


#create working dir
mkdir workdir
cd workdir

#Copy inputs
cp /work/01482/xdtas/appker/stampede2-skx/inputs/hpcc/hpccinf.txt.48x1 ./hpccinf.txt

EXE=/work/01482/xdtas/appker/stampede2-skx/execs/hpcc/hpcc

ulimit -s unlimited



#Load application enviroment
module list

#set how to run app kernel
RUN_APPKERNEL="ibrun /work/01482/xdtas/appker/stampede2-skx/execs/hpcc/hpcc"


# Generate AppKer signature
appsigcheck.sh $EXE $AKRR_TASK_WORKDIR/.. >> $AKRR_APP_STDOUT_FILE


#Execute AppKer
akrr_write_to_gen_info "appkernel_start_time" "`date`"
$RUN_APPKERNEL >> $AKRR_APP_STDOUT_FILE 2>&1
akrr_write_to_gen_info "appkernel_end_time" "`date`"




cat hpccoutf.txt  >> $AKRR_APP_STDOUT_FILE 2>&1

cd ..

akrr_write_to_gen_info "cpu_speed" "`grep 'cpu MHz' /proc/cpuinfo`"

#clean-up
if [ "${AKRR_DEBUG=no}" = "no" ]
then
        echo "Deleting input files"
        rm -rf workdir
fi



akrr_write_to_gen_info "end_time" "`date`"
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> sbatch hpcc.job;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully

-----------------------------------------------------------------
          Welcome to the Stampede2 Supercomputer                 
-----------------------------------------------------------------

No reservation for this job
--> Verifying valid submit host (login2)...OK
--> Verifying valid jobname...OK
--> Enforcing max jobs per user...OK
--> Verifying availability of your home dir (/home1/01482/xdtas)...OK
--> Verifying availability of your work dir (/work/01482/xdtas/stampede2)...OK
--> Verifying availability of your scratch dir (/scratch/01482/xdtas)...OK
--> Verifying valid ssh keys...OK
--> Verifying access to desired queue (skx-normal)...OK
--> Verifying job request is within current queue limits...FAILED

    [*] Too many simultaneous jobs in queue.
        --> Max job limits for skx-normal =  25 jobs

ExeCUTEd_SucCeSsFully
PROMPTtTtT To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
Last login: Mon Nov 30 16:13:43 2020 from 199.109.193.251
------------------------------------------------------------------------------
                   Welcome to the Stampede2 Supercomputer
      Texas Advanced Computing Center, The University of Texas at Austin
------------------------------------------------------------------------------

              ** Unauthorized use/access is prohibited. **

If you log on to this computer system, you acknowledge your awareness
of and concurrence with the UT Austin Acceptable Use Policy. The
University will prosecute violators to the full extent of the law.

TACC Usage Policies:
http://www.tacc.utexas.edu/user-services/usage-policies/
______________________________________________________________________________

Welcome to Stampede2, *please* read these important system notes:

--> Stampede2 user documentation is available at:
       https://portal.tacc.utexas.edu/user-guides/stampede2

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
----------------------- Project balances for user xdtas -----------------------
| Name           Avail SUs     Expires |                                      |
| TG-CCR120014        2877  2021-09-30 |                                      |
------------------------- Disk quotas for user xdtas --------------------------
| Disk         Usage (GB)     Limit    %Used   File Usage       Limit   %Used |
| /home1              0.0      10.0     0.11         1217      200000    0.61 |
| /work             166.2    1024.0    16.23       224620     3000000    7.49 |
| /scratch            2.3       0.0     0.00       323925           0    0.00 |
-------------------------------------------------------------------------------

Tip 50   (See "module help tacc_tips" for features or how to disable)

   Keeping all sources up-to-date in all locations can be difficult. Using
   "git" or similar version control software can make this simple. Simply
   check-in and push locally, then pull remotely. You'll wonder how you lived
   without it!

login2.stampede2(1001)$  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> export PS1='PROMPTtTtT ';\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  
PROMPTtTtT  
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo TeStTeStTeStThEproMPT;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
TeStTeStTeStThEproMPT
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo test > /scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat /scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
test
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> rm /scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
rm: cannot remove ‘/scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write’: No such file or directory
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo test > /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_writ<2/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_write                         ;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
cat: /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_write: No such file or directory
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.<dtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.4                         8.138503" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo test > /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.<2/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.1                         1.48.138503/akrr_test_wri<-skx/hpcc/2020.11.30.16.11.48.138503/akrr_test_writ                         e;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.13<akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138                         503/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
test
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> rm /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138<krrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.1385                         03/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cd /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138<krrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.1385                         03;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

hpcc.job                                        0%    0     0.0KB/s   --:-- ETAhpcc.job                                      100% 2549    42.4KB/s   00:00    
 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat hpcc.job ;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
#!/bin/bash
#SBATCH --partition=skx-normal
#SBATCH --qos=normal
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=48
#SBATCH --time=00:02:00
#SBATCH --output=/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138503/stdout
#SBATCH --error=/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138503/stderr
#SBATCH --exclusive


#Common commands
export AKRR_NODES=1
export AKRR_CORES=48
export AKRR_CORES_PER_NODE=48
export AKRR_NETWORK_SCRATCH="/scratch/01482/xdtas"
export AKRR_LOCAL_SCRATCH="/tmp"
export AKRR_TASK_WORKDIR="/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138503"
export AKRR_APPKER_DIR="/work/01482/xdtas/appker/stampede2-skx"
export AKRR_AKRR_DIR="/scratch/01482/xdtas/akrrdata/stampede2-skx"

export AKRR_APPKER_NAME="hpcc"
export AKRR_RESOURCE_NAME="stampede2-skx"
export AKRR_TIMESTAMP="2020.11.30.16.11.48.138503"
export AKRR_APP_STDOUT_FILE="$AKRR_TASK_WORKDIR/appstdout"

export AKRR_APPKERNEL_INPUT="/work/01482/xdtas/appker/stampede2-skx/inputs/hpcc/hpccinf.txt.48x1"
export AKRR_APPKERNEL_EXECUTABLE="/work/01482/xdtas/appker/stampede2-skx/execs/hpcc/hpcc"

source "$AKRR_APPKER_DIR/execs/bin/akrr_util.bash"

#Populate list of nodes per MPI process
export AKRR_NODELIST=`srun -l --ntasks-per-node=$AKRR_CORES_PER_NODE -n $AKRR_CORES hostname -s|sort -n| awk '{printf "%s ",$2}' `

export PATH="$AKRR_APPKER_DIR/execs/bin:$PATH"

cd "$AKRR_TASK_WORKDIR"

#run common tests
akrr_perform_common_tests

#Write some info to gen.info, JSON-Like file
akrr_write_to_gen_info "start_time" "`date`"
akrr_write_to_gen_info "node_list" "$AKRR_NODELIST"


#create working dir
mkdir workdir
cd workdir

#Copy inputs
cp /work/01482/xdtas/appker/stampede2-skx/inputs/hpcc/hpccinf.txt.48x1 ./hpccinf.txt

EXE=/work/01482/xdtas/appker/stampede2-skx/execs/hpcc/hpcc

ulimit -s unlimited



#Load application enviroment
module list

#set how to run app kernel
RUN_APPKERNEL="ibrun /work/01482/xdtas/appker/stampede2-skx/execs/hpcc/hpcc"


# Generate AppKer signature
appsigcheck.sh $EXE $AKRR_TASK_WORKDIR/.. >> $AKRR_APP_STDOUT_FILE


#Execute AppKer
akrr_write_to_gen_info "appkernel_start_time" "`date`"
$RUN_APPKERNEL >> $AKRR_APP_STDOUT_FILE 2>&1
akrr_write_to_gen_info "appkernel_end_time" "`date`"




cat hpccoutf.txt  >> $AKRR_APP_STDOUT_FILE 2>&1

cd ..

akrr_write_to_gen_info "cpu_speed" "`grep 'cpu MHz' /proc/cpuinfo`"

#clean-up
if [ "${AKRR_DEBUG=no}" = "no" ]
then
        echo "Deleting input files"
        rm -rf workdir
fi



akrr_write_to_gen_info "end_time" "`date`"
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> sbatch hpcc.job;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully

-----------------------------------------------------------------
          Welcome to the Stampede2 Supercomputer                 
-----------------------------------------------------------------

No reservation for this job
--> Verifying valid submit host (login2)...OK
--> Verifying valid jobname...OK
--> Enforcing max jobs per user...OK
--> Verifying availability of your home dir (/home1/01482/xdtas)...OK
--> Verifying availability of your work dir (/work/01482/xdtas/stampede2)...OK
--> Verifying availability of your scratch dir (/scratch/01482/xdtas)...OK
--> Verifying valid ssh keys...OK
--> Verifying access to desired queue (skx-normal)...OK
--> Verifying job request is within current queue limits...FAILED

    [*] Too many simultaneous jobs in queue.
        --> Max job limits for skx-normal =  25 jobs

ExeCUTEd_SucCeSsFully
PROMPTtTtT To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
Last login: Mon Nov 30 17:13:53 2020 from 199.109.193.251
------------------------------------------------------------------------------
                   Welcome to the Stampede2 Supercomputer
      Texas Advanced Computing Center, The University of Texas at Austin
------------------------------------------------------------------------------

              ** Unauthorized use/access is prohibited. **

If you log on to this computer system, you acknowledge your awareness
of and concurrence with the UT Austin Acceptable Use Policy. The
University will prosecute violators to the full extent of the law.

TACC Usage Policies:
http://www.tacc.utexas.edu/user-services/usage-policies/
______________________________________________________________________________

Welcome to Stampede2, *please* read these important system notes:

--> Stampede2 user documentation is available at:
       https://portal.tacc.utexas.edu/user-guides/stampede2

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
----------------------- Project balances for user xdtas -----------------------
| Name           Avail SUs     Expires |                                      |
| TG-CCR120014        2877  2021-09-30 |                                      |
------------------------- Disk quotas for user xdtas --------------------------
| Disk         Usage (GB)     Limit    %Used   File Usage       Limit   %Used |
| /home1              0.0      10.0     0.11         1234      200000    0.62 |
| /work             166.2    1024.0    16.23       224626     3000000    7.49 |
| /scratch            2.3       0.0     0.00       323921           0    0.00 |
-------------------------------------------------------------------------------

Tip 15   (See "module help tacc_tips" for features or how to disable)

   Avoid recursive ("-r") file transfers; collect the files into a tar
   archive instead.

login1.stampede2(1001)$  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> export PS1='PROMPTtTtT ';\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  
PROMPTtTtT  
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo TeStTeStTeStThEproMPT;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
TeStTeStTeStThEproMPT
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo test > /scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat /scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
test
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> rm /scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
rm: cannot remove ‘/scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write’: No such file or directory
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo test > /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_writ<2/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_write                         ;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
test
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> rm /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.<dtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.4                         8.138503" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo test > /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.<2/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.1                         1.48.138503/akrr_test_wri<-skx/hpcc/2020.11.30.16.11.48.138503/akrr_test_writ                         e;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.13<akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138                         503/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
test
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> rm /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138<krrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.1385                         03/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cd /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138<krrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.1385                         03;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

hpcc.job                                        0%    0     0.0KB/s   --:-- ETAhpcc.job                                      100% 2549    58.4KB/s   00:00    
 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat hpcc.job ;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
#!/bin/bash
#SBATCH --partition=skx-normal
#SBATCH --qos=normal
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=48
#SBATCH --time=00:02:00
#SBATCH --output=/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138503/stdout
#SBATCH --error=/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138503/stderr
#SBATCH --exclusive


#Common commands
export AKRR_NODES=1
export AKRR_CORES=48
export AKRR_CORES_PER_NODE=48
export AKRR_NETWORK_SCRATCH="/scratch/01482/xdtas"
export AKRR_LOCAL_SCRATCH="/tmp"
export AKRR_TASK_WORKDIR="/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138503"
export AKRR_APPKER_DIR="/work/01482/xdtas/appker/stampede2-skx"
export AKRR_AKRR_DIR="/scratch/01482/xdtas/akrrdata/stampede2-skx"

export AKRR_APPKER_NAME="hpcc"
export AKRR_RESOURCE_NAME="stampede2-skx"
export AKRR_TIMESTAMP="2020.11.30.16.11.48.138503"
export AKRR_APP_STDOUT_FILE="$AKRR_TASK_WORKDIR/appstdout"

export AKRR_APPKERNEL_INPUT="/work/01482/xdtas/appker/stampede2-skx/inputs/hpcc/hpccinf.txt.48x1"
export AKRR_APPKERNEL_EXECUTABLE="/work/01482/xdtas/appker/stampede2-skx/execs/hpcc/hpcc"

source "$AKRR_APPKER_DIR/execs/bin/akrr_util.bash"

#Populate list of nodes per MPI process
export AKRR_NODELIST=`srun -l --ntasks-per-node=$AKRR_CORES_PER_NODE -n $AKRR_CORES hostname -s|sort -n| awk '{printf "%s ",$2}' `

export PATH="$AKRR_APPKER_DIR/execs/bin:$PATH"

cd "$AKRR_TASK_WORKDIR"

#run common tests
akrr_perform_common_tests

#Write some info to gen.info, JSON-Like file
akrr_write_to_gen_info "start_time" "`date`"
akrr_write_to_gen_info "node_list" "$AKRR_NODELIST"


#create working dir
mkdir workdir
cd workdir

#Copy inputs
cp /work/01482/xdtas/appker/stampede2-skx/inputs/hpcc/hpccinf.txt.48x1 ./hpccinf.txt

EXE=/work/01482/xdtas/appker/stampede2-skx/execs/hpcc/hpcc

ulimit -s unlimited



#Load application enviroment
module list

#set how to run app kernel
RUN_APPKERNEL="ibrun /work/01482/xdtas/appker/stampede2-skx/execs/hpcc/hpcc"


# Generate AppKer signature
appsigcheck.sh $EXE $AKRR_TASK_WORKDIR/.. >> $AKRR_APP_STDOUT_FILE


#Execute AppKer
akrr_write_to_gen_info "appkernel_start_time" "`date`"
$RUN_APPKERNEL >> $AKRR_APP_STDOUT_FILE 2>&1
akrr_write_to_gen_info "appkernel_end_time" "`date`"




cat hpccoutf.txt  >> $AKRR_APP_STDOUT_FILE 2>&1

cd ..

akrr_write_to_gen_info "cpu_speed" "`grep 'cpu MHz' /proc/cpuinfo`"

#clean-up
if [ "${AKRR_DEBUG=no}" = "no" ]
then
        echo "Deleting input files"
        rm -rf workdir
fi



akrr_write_to_gen_info "end_time" "`date`"
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> sbatch hpcc.job;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully

-----------------------------------------------------------------
          Welcome to the Stampede2 Supercomputer                 
-----------------------------------------------------------------

No reservation for this job
--> Verifying valid submit host (login1)...OK
--> Verifying valid jobname...OK
--> Enforcing max jobs per user...OK
--> Verifying availability of your home dir (/home1/01482/xdtas)...OK
--> Verifying availability of your work dir (/work/01482/xdtas/stampede2)...OK
--> Verifying availability of your scratch dir (/scratch/01482/xdtas)...OK
--> Verifying valid ssh keys...OK
--> Verifying access to desired queue (skx-normal)...OK
--> Verifying job request is within current queue limits...FAILED

    [*] Too many simultaneous jobs in queue.
        --> Max job limits for skx-normal =  25 jobs

ExeCUTEd_SucCeSsFully
PROMPTtTtT To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
Last login: Mon Nov 30 18:14:15 2020 from 199.109.193.251
------------------------------------------------------------------------------
                   Welcome to the Stampede2 Supercomputer
      Texas Advanced Computing Center, The University of Texas at Austin
------------------------------------------------------------------------------

              ** Unauthorized use/access is prohibited. **

If you log on to this computer system, you acknowledge your awareness
of and concurrence with the UT Austin Acceptable Use Policy. The
University will prosecute violators to the full extent of the law.

TACC Usage Policies:
http://www.tacc.utexas.edu/user-services/usage-policies/
______________________________________________________________________________

Welcome to Stampede2, *please* read these important system notes:

--> Stampede2 user documentation is available at:
       https://portal.tacc.utexas.edu/user-guides/stampede2

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
----------------------- Project balances for user xdtas -----------------------
| Name           Avail SUs     Expires |                                      |
| TG-CCR120014        2877  2021-09-30 |                                      |
------------------------- Disk quotas for user xdtas --------------------------
| Disk         Usage (GB)     Limit    %Used   File Usage       Limit   %Used |
| /home1              0.0      10.0     0.11         1241      200000    0.62 |
| /work             166.2    1024.0    16.23       224636     3000000    7.49 |
| /scratch            2.3       0.0     0.00       323922           0    0.00 |
-------------------------------------------------------------------------------

Tip 136   (See "module help tacc_tips" for features or how to disable)

   To delete a file named -foo you can do either rm ./-foo or rm -- -foo but
   not rm -foo. Why?

login1.stampede2(1001)$  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> export PS1='PROMPTtTtT ';\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  
PROMPTtTtT  
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo TeStTeStTeStThEproMPT;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
TeStTeStTeStThEproMPT
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo test > /scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat /scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
test
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> rm /scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo test > /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_writ<2/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_write                         ;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
test
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> rm /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.<dtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.4                         8.138503" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo test > /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.<2/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.1                         1.48.138503/akrr_test_wri<-skx/hpcc/2020.11.30.16.11.48.138503/akrr_test_writ                         e;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.13<akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138                         503/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
test
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> rm /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138<krrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.1385                         03/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cd /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138<krrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.1385                         03;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

hpcc.job                                        0%    0     0.0KB/s   --:-- ETAhpcc.job                                      100% 2549    43.3KB/s   00:00    
 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat hpcc.job ;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
#!/bin/bash
#SBATCH --partition=skx-normal
#SBATCH --qos=normal
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=48
#SBATCH --time=00:02:00
#SBATCH --output=/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138503/stdout
#SBATCH --error=/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138503/stderr
#SBATCH --exclusive


#Common commands
export AKRR_NODES=1
export AKRR_CORES=48
export AKRR_CORES_PER_NODE=48
export AKRR_NETWORK_SCRATCH="/scratch/01482/xdtas"
export AKRR_LOCAL_SCRATCH="/tmp"
export AKRR_TASK_WORKDIR="/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.16.11.48.138503"
export AKRR_APPKER_DIR="/work/01482/xdtas/appker/stampede2-skx"
export AKRR_AKRR_DIR="/scratch/01482/xdtas/akrrdata/stampede2-skx"

export AKRR_APPKER_NAME="hpcc"
export AKRR_RESOURCE_NAME="stampede2-skx"
export AKRR_TIMESTAMP="2020.11.30.16.11.48.138503"
export AKRR_APP_STDOUT_FILE="$AKRR_TASK_WORKDIR/appstdout"

export AKRR_APPKERNEL_INPUT="/work/01482/xdtas/appker/stampede2-skx/inputs/hpcc/hpccinf.txt.48x1"
export AKRR_APPKERNEL_EXECUTABLE="/work/01482/xdtas/appker/stampede2-skx/execs/hpcc/hpcc"

source "$AKRR_APPKER_DIR/execs/bin/akrr_util.bash"

#Populate list of nodes per MPI process
export AKRR_NODELIST=`srun -l --ntasks-per-node=$AKRR_CORES_PER_NODE -n $AKRR_CORES hostname -s|sort -n| awk '{printf "%s ",$2}' `

export PATH="$AKRR_APPKER_DIR/execs/bin:$PATH"

cd "$AKRR_TASK_WORKDIR"

#run common tests
akrr_perform_common_tests

#Write some info to gen.info, JSON-Like file
akrr_write_to_gen_info "start_time" "`date`"
akrr_write_to_gen_info "node_list" "$AKRR_NODELIST"


#create working dir
mkdir workdir
cd workdir

#Copy inputs
cp /work/01482/xdtas/appker/stampede2-skx/inputs/hpcc/hpccinf.txt.48x1 ./hpccinf.txt

EXE=/work/01482/xdtas/appker/stampede2-skx/execs/hpcc/hpcc

ulimit -s unlimited



#Load application enviroment
module list

#set how to run app kernel
RUN_APPKERNEL="ibrun /work/01482/xdtas/appker/stampede2-skx/execs/hpcc/hpcc"


# Generate AppKer signature
appsigcheck.sh $EXE $AKRR_TASK_WORKDIR/.. >> $AKRR_APP_STDOUT_FILE


#Execute AppKer
akrr_write_to_gen_info "appkernel_start_time" "`date`"
$RUN_APPKERNEL >> $AKRR_APP_STDOUT_FILE 2>&1
akrr_write_to_gen_info "appkernel_end_time" "`date`"




cat hpccoutf.txt  >> $AKRR_APP_STDOUT_FILE 2>&1

cd ..

akrr_write_to_gen_info "cpu_speed" "`grep 'cpu MHz' /proc/cpuinfo`"

#clean-up
if [ "${AKRR_DEBUG=no}" = "no" ]
then
        echo "Deleting input files"
        rm -rf workdir
fi



akrr_write_to_gen_info "end_time" "`date`"
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> sbatch hpcc.job;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully

-----------------------------------------------------------------
          Welcome to the Stampede2 Supercomputer                 
-----------------------------------------------------------------

No reservation for this job
--> Verifying valid submit host (login1)...OK
--> Verifying valid jobname...OK
--> Enforcing max jobs per user...OK
--> Verifying availability of your home dir (/home1/01482/xdtas)...OK
--> Verifying availability of your work dir (/work/01482/xdtas/stampede2)...OK
--> Verifying availability of your scratch dir (/scratch/01482/xdtas)...OK
--> Verifying valid ssh keys...OK
--> Verifying access to desired queue (skx-normal)...OK
--> Verifying job request is within current queue limits...OK
--> Checking available allocation (TG-CCR120014)...OK
Submitted batch job 6922960
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo 6922960 > job.id;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT 
RemoteJobID= 6922960
copying files from remote machine
To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

hpcc.job                                        0%    0     0.0KB/s   --:-- ETAhpcc.job                                      100% 2549    58.2KB/s   00:00    
job.id                                          0%    0     0.0KB/s   --:-- ETAjob.id                                        100%    8     0.2KB/s   00:00    
### Checking the job status on remote machine
To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
Last login: Mon Nov 30 18:15:38 2020 from 199.109.193.251
------------------------------------------------------------------------------
                   Welcome to the Stampede2 Supercomputer
      Texas Advanced Computing Center, The University of Texas at Austin
------------------------------------------------------------------------------

              ** Unauthorized use/access is prohibited. **

If you log on to this computer system, you acknowledge your awareness
of and concurrence with the UT Austin Acceptable Use Policy. The
University will prosecute violators to the full extent of the law.

TACC Usage Policies:
http://www.tacc.utexas.edu/user-services/usage-policies/
______________________________________________________________________________

Welcome to Stampede2, *please* read these important system notes:

--> Stampede2 user documentation is available at:
       https://portal.tacc.utexas.edu/user-guides/stampede2

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
----------------------- Project balances for user xdtas -----------------------
| Name           Avail SUs     Expires |                                      |
| TG-CCR120014        2877  2021-09-30 |                                      |
------------------------- Disk quotas for user xdtas --------------------------
| Disk         Usage (GB)     Limit    %Used   File Usage       Limit   %Used |
| /home1              0.0      10.0     0.11         1241      200000    0.62 |
| /work             166.2    1024.0    16.23       224638     3000000    7.49 |
| /scratch            2.3       0.0     0.00       323926           0    0.00 |
-------------------------------------------------------------------------------

Tip 48   (See "module help tacc_tips" for features or how to disable)

   The command "ls -F" adds an extra character to mark file type: '/' for
   directories '*' executables and '@' for symbolic links.

login3.stampede2(1001)$  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> export PS1='PROMPTtTtT ';\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  
PROMPTtTtT  
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo TeStTeStTeStThEproMPT;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
TeStTeStTeStThEproMPT
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> squeue -u $USER 2>&1;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
             JOBID   PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
           6921286  skx-normal hpcg.job    xdtas CG      10:34      6 c495-134,c496-001,c497-[003-004,023,052]
           6919252  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6919283  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6919282  skx-normal hpcg.job    xdtas PD       0:00     32 (Priority)
           6920459  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6920460  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6920457  skx-normal hpcg.job    xdtas PD       0:00     32 (Priority)
           6920458  skx-normal hpcg.job    xdtas PD       0:00     32 (Priority)
           6920455  skx-normal hpcg.job    xdtas PD       0:00     16 (Priority)
           6920456  skx-normal hpcg.job    xdtas PD       0:00     16 (Priority)
           6921291  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6921290  skx-normal hpcg.job    xdtas PD       0:00     32 (Priority)
           6921289  skx-normal hpcg.job    xdtas PD       0:00     16 (Priority)
           6922082  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922087  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922362  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922536  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922695  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922893  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922904  skx-normal hpcc.job    xdtas PD       0:00      8 (Priority)
           6922913  skx-normal hpcc.job    xdtas PD       0:00      8 (Priority)
           6922959  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922957  skx-normal hpcc.job    xdtas PD       0:00      4 (Priority)
           6922958  skx-normal hpcc.job    xdtas PD       0:00      2 (Priority)
           6922960  skx-normal hpcc.job    xdtas PD       0:00      1 (Priority)
           6922839  skx-normal hpcc.job    xdtas  R       2:14      8 c502-[062-063,071,092],c503-[004,013],c504-121,c506-094
ExeCUTEd_SucCeSsFully
PROMPTtTtT ### Checking the job status on remote machine
To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
Last login: Mon Nov 30 18:45:42 2020 from 199.109.193.251
------------------------------------------------------------------------------
                   Welcome to the Stampede2 Supercomputer
      Texas Advanced Computing Center, The University of Texas at Austin
------------------------------------------------------------------------------

              ** Unauthorized use/access is prohibited. **

If you log on to this computer system, you acknowledge your awareness
of and concurrence with the UT Austin Acceptable Use Policy. The
University will prosecute violators to the full extent of the law.

TACC Usage Policies:
http://www.tacc.utexas.edu/user-services/usage-policies/
______________________________________________________________________________

Welcome to Stampede2, *please* read these important system notes:

--> Stampede2 user documentation is available at:
       https://portal.tacc.utexas.edu/user-guides/stampede2

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
----------------------- Project balances for user xdtas -----------------------
| Name           Avail SUs     Expires |                                      |
| TG-CCR120014        2877  2021-09-30 |                                      |
------------------------- Disk quotas for user xdtas --------------------------
| Disk         Usage (GB)     Limit    %Used   File Usage       Limit   %Used |
| /home1              0.0      10.0     0.11         1249      200000    0.62 |
| /work             166.2    1024.0    16.23       224638     3000000    7.49 |
| /scratch            2.3       0.0     0.00       323940           0    0.00 |
-------------------------------------------------------------------------------

Tip 169   (See "module help tacc_tips" for features or how to disable)

   You can remove all but one file under bash with:
      $ rm -f !(survivor.txt)

login1.stampede2(1001)$  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> export PS1='PROMPTtTtT ';\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  
PROMPTtTtT  
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo TeStTeStTeStThEproMPT;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
TeStTeStTeStThEproMPT
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> squeue -u $USER 2>&1;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
             JOBID   PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
           6919252  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6919283  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6919282  skx-normal hpcg.job    xdtas PD       0:00     32 (Priority)
           6920459  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6920460  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6920457  skx-normal hpcg.job    xdtas PD       0:00     32 (Priority)
           6920458  skx-normal hpcg.job    xdtas PD       0:00     32 (Priority)
           6920455  skx-normal hpcg.job    xdtas PD       0:00     16 (Priority)
           6920456  skx-normal hpcg.job    xdtas PD       0:00     16 (Priority)
           6921291  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6921290  skx-normal hpcg.job    xdtas PD       0:00     32 (Priority)
           6921289  skx-normal hpcg.job    xdtas PD       0:00     16 (Priority)
           6922082  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922087  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922362  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922536  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922695  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922893  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922959  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922970  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922980  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
ExeCUTEd_SucCeSsFully
PROMPTtTtT To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

appstdout                                       0%    0     0.0KB/s   --:-- ETAappstdout                                     100%   21KB 197.9KB/s   00:00    
gen.info                                        0%    0     0.0KB/s   --:-- ETAgen.info                                      100% 2603    47.9KB/s   00:00    
hpcc.job                                        0%    0     0.0KB/s   --:-- ETAhpcc.job                                      100% 2549    37.5KB/s   00:00    
job.id                                          0%    0     0.0KB/s   --:-- ETAjob.id                                        100%    8     0.1KB/s   00:00    
stderr                                          0%    0     0.0KB/s   --:-- ETAstderr                                        100%  269     4.7KB/s   00:00    
stdout                                          0%    0     0.0KB/s   --:-- ETAstdout                                        100%   21     0.3KB/s   00:00    
To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
