To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
Last login: Mon Nov 30 18:46:59 2020 from 199.109.193.251
------------------------------------------------------------------------------
                   Welcome to the Stampede2 Supercomputer
      Texas Advanced Computing Center, The University of Texas at Austin
------------------------------------------------------------------------------

              ** Unauthorized use/access is prohibited. **

If you log on to this computer system, you acknowledge your awareness
of and concurrence with the UT Austin Acceptable Use Policy. The
University will prosecute violators to the full extent of the law.

TACC Usage Policies:
http://www.tacc.utexas.edu/user-services/usage-policies/
______________________________________________________________________________

Welcome to Stampede2, *please* read these important system notes:

--> Stampede2 user documentation is available at:
       https://portal.tacc.utexas.edu/user-guides/stampede2

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
----------------------- Project balances for user xdtas -----------------------
| Name           Avail SUs     Expires |                                      |
| TG-CCR120014        2877  2021-09-30 |                                      |
------------------------- Disk quotas for user xdtas --------------------------
| Disk         Usage (GB)     Limit    %Used   File Usage       Limit   %Used |
| /home1              0.0      10.0     0.11         1250      200000    0.62 |
| /work             166.2    1024.0    16.23       224638     3000000    7.49 |
| /scratch            2.3       0.0     0.00       323915           0    0.00 |
-------------------------------------------------------------------------------

Tip 68   (See "module help tacc_tips" for features or how to disable)

   Commands like ls, mv and cp support file globbing pattern matching:
     $ ls t* # -> list all files that start with t
     $ ls [tx]* # -> list all files that do start with t or x
     $ ls [^tx]* # -> list all files that do NOT start with t or x
     $ ls t?.sh # -> list files like t1.sh t2.sh but not t22.sh

login1.stampede2(1001)$  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> export PS1='PROMPTtTtT ';\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  
PROMPTtTtT  
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo TeStTeStTeStThEproMPT;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
TeStTeStTeStThEproMPT
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo test > /scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat /scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
test
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> rm /scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo test > /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_writ<2/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_write                         ;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
test
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> rm /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.<dtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.2                         1.482137" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
DOES_NOT_EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> mkdir -p "/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53<xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.                         21.482137";\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.<dtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.2                         1.482137" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo test > /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.<2/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.5                         3.21.482137/akrr_test_wri<-skx/hpcc/2020.11.30.19.53.21.482137/akrr_test_writ                         e;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.21.48<akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.21.482                         137/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
test
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> rm /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.21.482<krrdata/stampede2-skx/hpcc/2020.11.30.19.53.21.4821                         37/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cd /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.21.482<krrdata/stampede2-skx/hpcc/2020.11.30.19.53.21.4821                         37;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

hpcc.job                                        0%    0     0.0KB/s   --:-- ETAhpcc.job                                      100% 2549    60.1KB/s   00:00    
 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat hpcc.job ;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
#!/bin/bash
#SBATCH --partition=skx-normal
#SBATCH --qos=normal
#SBATCH --nodes=2
#SBATCH --ntasks-per-node=48
#SBATCH --time=00:02:00
#SBATCH --output=/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.21.482137/stdout
#SBATCH --error=/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.21.482137/stderr
#SBATCH --exclusive


#Common commands
export AKRR_NODES=2
export AKRR_CORES=96
export AKRR_CORES_PER_NODE=48
export AKRR_NETWORK_SCRATCH="/scratch/01482/xdtas"
export AKRR_LOCAL_SCRATCH="/tmp"
export AKRR_TASK_WORKDIR="/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.21.482137"
export AKRR_APPKER_DIR="/work/01482/xdtas/appker/stampede2-skx"
export AKRR_AKRR_DIR="/scratch/01482/xdtas/akrrdata/stampede2-skx"

export AKRR_APPKER_NAME="hpcc"
export AKRR_RESOURCE_NAME="stampede2-skx"
export AKRR_TIMESTAMP="2020.11.30.19.53.21.482137"
export AKRR_APP_STDOUT_FILE="$AKRR_TASK_WORKDIR/appstdout"

export AKRR_APPKERNEL_INPUT="/work/01482/xdtas/appker/stampede2-skx/inputs/hpcc/hpccinf.txt.48x2"
export AKRR_APPKERNEL_EXECUTABLE="/work/01482/xdtas/appker/stampede2-skx/execs/hpcc/hpcc"

source "$AKRR_APPKER_DIR/execs/bin/akrr_util.bash"

#Populate list of nodes per MPI process
export AKRR_NODELIST=`srun -l --ntasks-per-node=$AKRR_CORES_PER_NODE -n $AKRR_CORES hostname -s|sort -n| awk '{printf "%s ",$2}' `

export PATH="$AKRR_APPKER_DIR/execs/bin:$PATH"

cd "$AKRR_TASK_WORKDIR"

#run common tests
akrr_perform_common_tests

#Write some info to gen.info, JSON-Like file
akrr_write_to_gen_info "start_time" "`date`"
akrr_write_to_gen_info "node_list" "$AKRR_NODELIST"


#create working dir
mkdir workdir
cd workdir

#Copy inputs
cp /work/01482/xdtas/appker/stampede2-skx/inputs/hpcc/hpccinf.txt.48x2 ./hpccinf.txt

EXE=/work/01482/xdtas/appker/stampede2-skx/execs/hpcc/hpcc

ulimit -s unlimited



#Load application enviroment
module list

#set how to run app kernel
RUN_APPKERNEL="ibrun /work/01482/xdtas/appker/stampede2-skx/execs/hpcc/hpcc"


# Generate AppKer signature
appsigcheck.sh $EXE $AKRR_TASK_WORKDIR/.. >> $AKRR_APP_STDOUT_FILE


#Execute AppKer
akrr_write_to_gen_info "appkernel_start_time" "`date`"
$RUN_APPKERNEL >> $AKRR_APP_STDOUT_FILE 2>&1
akrr_write_to_gen_info "appkernel_end_time" "`date`"




cat hpccoutf.txt  >> $AKRR_APP_STDOUT_FILE 2>&1

cd ..

akrr_write_to_gen_info "cpu_speed" "`grep 'cpu MHz' /proc/cpuinfo`"

#clean-up
if [ "${AKRR_DEBUG=no}" = "no" ]
then
        echo "Deleting input files"
        rm -rf workdir
fi



akrr_write_to_gen_info "end_time" "`date`"
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> sbatch hpcc.job;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully

-----------------------------------------------------------------
          Welcome to the Stampede2 Supercomputer                 
-----------------------------------------------------------------

No reservation for this job
--> Verifying valid submit host (login1)...OK
--> Verifying valid jobname...OK
--> Enforcing max jobs per user...OK
--> Verifying availability of your home dir (/home1/01482/xdtas)...OK
--> Verifying availability of your work dir (/work/01482/xdtas/stampede2)...OK
--> Verifying availability of your scratch dir (/scratch/01482/xdtas)...OK
--> Verifying valid ssh keys...OK
--> Verifying access to desired queue (skx-normal)...OK
--> Verifying job request is within current queue limits...FAILED

    [*] Too many simultaneous jobs in queue.
        --> Max job limits for skx-normal =  25 jobs

ExeCUTEd_SucCeSsFully
PROMPTtTtT To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
Last login: Mon Nov 30 19:50:52 2020 from 199.109.193.251
------------------------------------------------------------------------------
                   Welcome to the Stampede2 Supercomputer
      Texas Advanced Computing Center, The University of Texas at Austin
------------------------------------------------------------------------------

              ** Unauthorized use/access is prohibited. **

If you log on to this computer system, you acknowledge your awareness
of and concurrence with the UT Austin Acceptable Use Policy. The
University will prosecute violators to the full extent of the law.

TACC Usage Policies:
http://www.tacc.utexas.edu/user-services/usage-policies/
______________________________________________________________________________

Welcome to Stampede2, *please* read these important system notes:

--> Stampede2 user documentation is available at:
       https://portal.tacc.utexas.edu/user-guides/stampede2

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
----------------------- Project balances for user xdtas -----------------------
| Name           Avail SUs     Expires |                                      |
| TG-CCR120014        2877  2021-09-30 |                                      |
------------------------- Disk quotas for user xdtas --------------------------
| Disk         Usage (GB)     Limit    %Used   File Usage       Limit   %Used |
| /home1              0.0      10.0     0.11         1252      200000    0.63 |
| /work             166.2    1024.0    16.23       224642     3000000    7.49 |
| /scratch            2.3       0.0     0.00       323885           0    0.00 |
-------------------------------------------------------------------------------

Tip 109   (See "module help tacc_tips" for features or how to disable)

   To print a file with line numbers do:
     $ nl <file>
   or
     $ cat -n <file>

login2.stampede2(1001)$  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> export PS1='PROMPTtTtT ';\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  
PROMPTtTtT  
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo TeStTeStTeStThEproMPT;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
TeStTeStTeStThEproMPT
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo test > /scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat /scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
test
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> rm /scratch/01482/xdtas/akrrdata/stampede2-skx/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo test > /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_writ<2/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_write                         ;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
test
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> rm /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> if [ -d "/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.<dtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.2                         1.482137" ]
>  then 
>  echo EXIST
>  else echo DOES_NOT_EXIST
>  fi;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
EXIST
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo test > /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.<2/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.5                         3.21.482137/akrr_test_wri<-skx/hpcc/2020.11.30.19.53.21.482137/akrr_test_writ                         e;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.21.48<akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.21.482                         137/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
test
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> rm /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.21.482<krrdata/stampede2-skx/hpcc/2020.11.30.19.53.21.4821                         37/akrr_test_write;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cd /scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.21.482<krrdata/stampede2-skx/hpcc/2020.11.30.19.53.21.4821                         37;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

hpcc.job                                        0%    0     0.0KB/s   --:-- ETAhpcc.job                                      100% 2549    41.6KB/s   00:00    
 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> cat hpcc.job ;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
#!/bin/bash
#SBATCH --partition=skx-normal
#SBATCH --qos=normal
#SBATCH --nodes=2
#SBATCH --ntasks-per-node=48
#SBATCH --time=00:02:00
#SBATCH --output=/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.21.482137/stdout
#SBATCH --error=/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.21.482137/stderr
#SBATCH --exclusive


#Common commands
export AKRR_NODES=2
export AKRR_CORES=96
export AKRR_CORES_PER_NODE=48
export AKRR_NETWORK_SCRATCH="/scratch/01482/xdtas"
export AKRR_LOCAL_SCRATCH="/tmp"
export AKRR_TASK_WORKDIR="/scratch/01482/xdtas/akrrdata/stampede2-skx/hpcc/2020.11.30.19.53.21.482137"
export AKRR_APPKER_DIR="/work/01482/xdtas/appker/stampede2-skx"
export AKRR_AKRR_DIR="/scratch/01482/xdtas/akrrdata/stampede2-skx"

export AKRR_APPKER_NAME="hpcc"
export AKRR_RESOURCE_NAME="stampede2-skx"
export AKRR_TIMESTAMP="2020.11.30.19.53.21.482137"
export AKRR_APP_STDOUT_FILE="$AKRR_TASK_WORKDIR/appstdout"

export AKRR_APPKERNEL_INPUT="/work/01482/xdtas/appker/stampede2-skx/inputs/hpcc/hpccinf.txt.48x2"
export AKRR_APPKERNEL_EXECUTABLE="/work/01482/xdtas/appker/stampede2-skx/execs/hpcc/hpcc"

source "$AKRR_APPKER_DIR/execs/bin/akrr_util.bash"

#Populate list of nodes per MPI process
export AKRR_NODELIST=`srun -l --ntasks-per-node=$AKRR_CORES_PER_NODE -n $AKRR_CORES hostname -s|sort -n| awk '{printf "%s ",$2}' `

export PATH="$AKRR_APPKER_DIR/execs/bin:$PATH"

cd "$AKRR_TASK_WORKDIR"

#run common tests
akrr_perform_common_tests

#Write some info to gen.info, JSON-Like file
akrr_write_to_gen_info "start_time" "`date`"
akrr_write_to_gen_info "node_list" "$AKRR_NODELIST"


#create working dir
mkdir workdir
cd workdir

#Copy inputs
cp /work/01482/xdtas/appker/stampede2-skx/inputs/hpcc/hpccinf.txt.48x2 ./hpccinf.txt

EXE=/work/01482/xdtas/appker/stampede2-skx/execs/hpcc/hpcc

ulimit -s unlimited



#Load application enviroment
module list

#set how to run app kernel
RUN_APPKERNEL="ibrun /work/01482/xdtas/appker/stampede2-skx/execs/hpcc/hpcc"


# Generate AppKer signature
appsigcheck.sh $EXE $AKRR_TASK_WORKDIR/.. >> $AKRR_APP_STDOUT_FILE


#Execute AppKer
akrr_write_to_gen_info "appkernel_start_time" "`date`"
$RUN_APPKERNEL >> $AKRR_APP_STDOUT_FILE 2>&1
akrr_write_to_gen_info "appkernel_end_time" "`date`"




cat hpccoutf.txt  >> $AKRR_APP_STDOUT_FILE 2>&1

cd ..

akrr_write_to_gen_info "cpu_speed" "`grep 'cpu MHz' /proc/cpuinfo`"

#clean-up
if [ "${AKRR_DEBUG=no}" = "no" ]
then
        echo "Deleting input files"
        rm -rf workdir
fi



akrr_write_to_gen_info "end_time" "`date`"
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> sbatch hpcc.job;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully

-----------------------------------------------------------------
          Welcome to the Stampede2 Supercomputer                 
-----------------------------------------------------------------

No reservation for this job
--> Verifying valid submit host (login2)...OK
--> Verifying valid jobname...OK
--> Enforcing max jobs per user...OK
--> Verifying availability of your home dir (/home1/01482/xdtas)...OK
--> Verifying availability of your work dir (/work/01482/xdtas/stampede2)...OK
--> Verifying availability of your scratch dir (/scratch/01482/xdtas)...OK
--> Verifying valid ssh keys...OK
--> Verifying access to desired queue (skx-normal)...OK
--> Verifying job request is within current queue limits...OK
--> Checking available allocation (TG-CCR120014)...OK
Submitted batch job 6923469
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo 6923469 > job.id;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT 
RemoteJobID= 6923469
copying files from remote machine
To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

hpcc.job                                        0%    0     0.0KB/s   --:-- ETAhpcc.job                                      100% 2549    18.5KB/s   00:00    
job.id                                          0%    0     0.0KB/s   --:-- ETAjob.id                                        100%    8     0.0KB/s   00:00    
### Checking the job status on remote machine
To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
Last login: Mon Nov 30 19:50:50 2020 from 199.109.193.251
------------------------------------------------------------------------------
                   Welcome to the Stampede2 Supercomputer
      Texas Advanced Computing Center, The University of Texas at Austin
------------------------------------------------------------------------------

              ** Unauthorized use/access is prohibited. **

If you log on to this computer system, you acknowledge your awareness
of and concurrence with the UT Austin Acceptable Use Policy. The
University will prosecute violators to the full extent of the law.

TACC Usage Policies:
http://www.tacc.utexas.edu/user-services/usage-policies/
______________________________________________________________________________

Welcome to Stampede2, *please* read these important system notes:

--> Stampede2 user documentation is available at:
       https://portal.tacc.utexas.edu/user-guides/stampede2

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
----------------------- Project balances for user xdtas -----------------------
| Name           Avail SUs     Expires |                                      |
| TG-CCR120014        2877  2021-09-30 |                                      |
------------------------- Disk quotas for user xdtas --------------------------
| Disk         Usage (GB)     Limit    %Used   File Usage       Limit   %Used |
| /home1              0.0      10.0     0.11         1252      200000    0.63 |
| /work             166.2    1024.0    16.23       224642     3000000    7.49 |
| /scratch            2.3       0.0     0.00       323887           0    0.00 |
-------------------------------------------------------------------------------

Tip 22   (See "module help tacc_tips" for features or how to disable)

   To find out more about a particular module execute "module help <name>"

login3.stampede2(1001)$  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> export PS1='PROMPTtTtT ';\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  
PROMPTtTtT  
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo TeStTeStTeStThEproMPT;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
TeStTeStTeStThEproMPT
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> squeue -u $USER 2>&1;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
             JOBID   PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
           6919252  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6919283  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6919282  skx-normal hpcg.job    xdtas PD       0:00     32 (Priority)
           6920457  skx-normal hpcg.job    xdtas PD       0:00     32 (Priority)
           6920458  skx-normal hpcg.job    xdtas PD       0:00     32 (Priority)
           6920456  skx-normal hpcg.job    xdtas PD       0:00     16 (Priority)
           6920459  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6920460  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6921291  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6921290  skx-normal hpcg.job    xdtas PD       0:00     32 (Priority)
           6921289  skx-normal hpcg.job    xdtas PD       0:00     16 (Priority)
           6922082  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922087  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922362  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922536  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922695  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922893  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922959  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922970  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922980  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6923155  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6923469  skx-normal hpcc.job    xdtas PD       0:00      2 (Priority)
           6923470  skx-normal enzo.job    xdtas PD       0:00      1 (Priority)
ExeCUTEd_SucCeSsFully
PROMPTtTtT ### Checking the job status on remote machine
To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
Last login: Mon Nov 30 20:20:50 2020 from 199.109.193.251
------------------------------------------------------------------------------
                   Welcome to the Stampede2 Supercomputer
      Texas Advanced Computing Center, The University of Texas at Austin
------------------------------------------------------------------------------

              ** Unauthorized use/access is prohibited. **

If you log on to this computer system, you acknowledge your awareness
of and concurrence with the UT Austin Acceptable Use Policy. The
University will prosecute violators to the full extent of the law.

TACC Usage Policies:
http://www.tacc.utexas.edu/user-services/usage-policies/
______________________________________________________________________________

Welcome to Stampede2, *please* read these important system notes:

--> Stampede2 user documentation is available at:
       https://portal.tacc.utexas.edu/user-guides/stampede2

 echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
export PS1='PROMPTtTtT ';\
echo ExeCUTEd_SucCeSsFully
 
 
----------------------- Project balances for user xdtas -----------------------
| Name           Avail SUs     Expires |                                      |
| TG-CCR120014        2877  2021-09-30 |                                      |
------------------------- Disk quotas for user xdtas --------------------------
| Disk         Usage (GB)     Limit    %Used   File Usage       Limit   %Used |
| /home1              0.0      10.0     0.11         1257      200000    0.63 |
| /work             166.2    1024.0    16.23       224650     3000000    7.49 |
| /scratch            2.3       0.0     0.00       323895           0    0.00 |
-------------------------------------------------------------------------------

Tip 202   (See "module help tacc_tips" for features or how to disable)

   The login nodes are a shared resource, so please don't use mpirun or
   multiple tar's or multiple file transfers or "make -j4" there.

login1.stampede2(1001)$  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> export PS1='PROMPTtTtT ';\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
PROMPTtTtT  
PROMPTtTtT  
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> echo TeStTeStTeStThEproMPT;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
TeStTeStTeStThEproMPT
ExeCUTEd_SucCeSsFully
PROMPTtTtT  echo StArTEd_ExeCUTEtIoM_SucCeSsFully;\
> squeue -u $USER 2>&1;\
> echo ExeCUTEd_SucCeSsFully
StArTEd_ExeCUTEtIoM_SucCeSsFully
             JOBID   PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
           6919252  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6919283  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6920457  skx-normal hpcg.job    xdtas PD       0:00     32 (Priority)
           6920458  skx-normal hpcg.job    xdtas PD       0:00     32 (Priority)
           6919282  skx-normal hpcg.job    xdtas PD       0:00     32 (Priority)
           6920459  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6920460  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6921291  skx-normal hpcg.job    xdtas PD       0:00     64 (Priority)
           6921290  skx-normal hpcg.job    xdtas PD       0:00     32 (Priority)
           6922082  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922087  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922362  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922536  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922695  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922893  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922959  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922970  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6922980  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
           6923155  skx-normal hpcc.job    xdtas PD       0:00     16 (Priority)
ExeCUTEd_SucCeSsFully
PROMPTtTtT To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

appstdout                                       0%    0     0.0KB/s   --:-- ETAappstdout                                     100%   21KB 196.0KB/s   00:00    
gen.info                                        0%    0     0.0KB/s   --:-- ETAgen.info                                      100% 3035    47.6KB/s   00:00    
hpcc.job                                        0%    0     0.0KB/s   --:-- ETAhpcc.job                                      100% 2549    60.1KB/s   00:00    
job.id                                          0%    0     0.0KB/s   --:-- ETAjob.id                                        100%    8     0.1KB/s   00:00    
stderr                                          0%    0     0.0KB/s   --:-- ETAstderr                                        100%  269     6.3KB/s   00:00    
stdout                                          0%    0     0.0KB/s   --:-- ETAstdout                                        100%   21     0.4KB/s   00:00    
To access the system:

1) If not using ssh-keys, please enter your TACC password at the password prompt
2) At the TACC Token prompt, enter your 6-digit code followed by <return>.  

StArTEd_ExeCUTEtIoM_SucCeSsFully
ExeCUTEd_SucCeSsFully
